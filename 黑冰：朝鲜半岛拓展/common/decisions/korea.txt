#朝鲜半岛独立运动
KOR_Japan_Korea_Annexation_Treaty = {
	#对日本殖民据点发动的突袭战役
	KOR_communist_civil_war = {
		icon = generic_ignite_civil_war
		on_map_mode = decision_view_only #决议不会在地图模式下显示任何特殊标记或按钮，只会在决议界面（决议栏）中显示
		#state_target = yes #决议会对所有满足条件的 state（省份/地区）生成一个实例，state_target必须删除
		allowed = {
			tag = KOR
		}
		available = {
			date > 1937.6.4
			OR = {
				is_puppet_of = JAP
				is_in_faction_with = JAP
			}
		}
		visible = {
			NOT = { has_government = communism }
			has_completed_focus = KOR_front_against_Japan
		}
		cost = 75
		fire_only_once = yes #决议仅能使用一次
		days_remove = 30 #决议持续30天
		remove_effect = {
			country_event = {
				id = KOR_communism.2 #弹窗事件
				days = 7
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	#韩国光复军起义了！
	KOR_neutrality_civil_war = {
		icon = generic_ignite_civil_war
		on_map_mode = decision_view_only
		allowed = {
			tag = KOR
		}
		available = {
			KOR = {
				has_government = fascism
				neutrality > 0.8
				or = {
					is_puppet_of = JAP
					is_in_faction_with = JAP
				}
			}
		}
		visible = {
			NOT = { has_government = neutrality }
			has_completed_focus = KOR_CHI_restoration_movement
		}
		fire_only_once = yes
		days_remove = 360
		cost = 200
		complete_effect = {
			#
		}
		remove_effect = {
			start_civil_war = {
				ruling_party = neutrality #起义军执政党
				ideology = ROOT
				size = civil_war_size_var
				keep_unit_leaders_trigger = {
					has_trait = hidden_sympathies
				}
			}
			KOR = {
				remove_ideas = neutrality_idea
			}
		}
		ai_will_do = {
			factor = 90
		}
	}
}

#中朝贸易援助
KOR_PRC_trade_effort = {
	#朝鲜粮食援助
	KOR_PRC_food_support = {
		icon = RAJ_famine
		allowed = {
			tag = KOR
		}
		visible = {
			tag = KOR
			check_variable = { food > 0 }
		}
		available = {
			KOR = {
				has_government = communism
				set_temp_variable = { food_fraction = food }
				divide_temp_variable = { food_fraction = food_max }
				custom_trigger_tooltip = {
					tooltip = food_over_25_TT
					check_variable = { food_fraction > 0.25 }
				}
			}
			PRC = {
				exists = yes
				has_capitulated = no
				has_government = communism
			}
		}
		ai_will_do = { factor = 100 }
		fire_only_once = no #决议可多次使用
		days_remove = 14 #决议持续14天
		days_re_enable = 14 #决议14天后可重新使用
		remove_effect = {
			KOR = {
				add_stability = 0.05 #稳定度+5%
				add_war_support = 0.05 #战争支持度+5%
				add_political_power = 50 #政治点数+50
				set_temp_variable = { food_sent = 20 } #设置临时变量food_sent为20
				custom_effect_tooltip = x_food_subtracted #提示文字:从库存中移除X食物
				subtract_from_variable = { food = 20 } #从库存中扣除20K食物
			}
			PRC = {
				set_temp_variable = { food_received = 20 } #设置临时变量food_received为20
				custom_effect_tooltip = x_food_added #提示文字:从库存中移除X食物
				add_to_variable = { food = 20 } #向库存中添加20K食物
				add_opinion_modifier = {
					target = PRC
					modifier = offered_support # PRC对KOR好感度提升
				}
			}
		}
	}
}

#苏联建设援助
KOR_economic_aid = {
	#土地资源开发
	KOR_sov_support_construction = {
		icon = generic_construction
		allowed = {
			tag = KOR
		}
		visible = {
			tag = KOR
		}
		available = {
			KOR = {
				has_government = communism
			}
			SOV = {
				exists = yes
				has_capitulated = no
				has_government = communism
			}
		}
		cost = 30
		ai_will_do = { factor = 75 }
		fixed_random_seed = no
		fire_only_once = no #决议可多次使用
		modifier = {
			civilian_factory_use = 2
		}
		days_remove = 90 #决议持续90天
		remove_effect = {
			random_list = {
				35 = {
					random_owned_controlled_state = {
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
				25 = {
					random_owned_controlled_state = {
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
				20 = {
					random_owned_controlled_state = {
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
				10 = {
					random_owned_controlled_state = {
						add_building_construction = {
							type = power_plant
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
				5 = {
					random_owned_controlled_state = {
						add_building_construction = {
							type = steel_refinery
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
				3 = {
					random_owned_controlled_state = {
						add_building_construction = {
							type = shipyard
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
				2 = {
					random_owned_controlled_state = {
						add_building_construction = {
							type = shipyard_capital_building
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}
		}
	}
	#矿产资源探勘
	KOR_sov_mineral_development = {
		icon = generic_construction
		allowed = {
			tag = KOR
		}
		visible = {
			tag = KOR
		}
		available = {
			KOR = {
				has_government = communism
			}
			SOV = {
				exists = yes
				has_capitulated = no
				has_government = communism
			}
		}
		cost = 30
		ai_will_do = { factor = 70 }
		fixed_random_seed = no
		fire_only_once = no #决议可多次使用
		modifier = {
			civilian_factory_use = 3
		}
		days_remove = 90 #决议持续90天
		remove_effect = {
			random_list = {
				40 = {
					random_owned_controlled_state = {
						add_resource = {
							type = food
							amount = 1
						}
					}
				}
				20 = {
					random_owned_controlled_state = {
						add_resource = {
							type = coal
							amount = 1
						}
					}
				}
				20 = {
					random_owned_controlled_state = {
						add_resource = {
							type = iron
							amount = 1
						}
					}
				}
				10 = {
					random_owned_controlled_state = {
						add_resource = {
							type = bauxite
							amount = 1
						}
					}
				}
				10 = {
					random_owned_controlled_state = {
						add_resource = {
							type = rubber
							amount = 1
						}
					}
				}
			}
		}
	}
}
